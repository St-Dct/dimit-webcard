<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>~*~ DIMIT-fm ~*~ repo/files/</title>
<style type="text/css">
    body {
        background-color: #000033;
        background-image: url('https://i.ibb.co/MDc5bTtD/mspaint-m-IRNsge-VGl.png');
        color: #FFFF00;
        font-family: "Verdana", "Arial", sans-serif;
        font-size: 12px;
        margin: 0;
    }
    a { color: #00FF00; text-decoration: none; }
    a:hover { color: #FFFFFF; background-color: #0000FF; padding: 2px; }
    
    .file-table {
        width: 100%;
        border-collapse: collapse;
        font-family: "Courier New", monospace;
        background-color: #000000;
    }
    .file-table th {
        background-color: #0000AA;
        color: #FFFF00;
        border: 1px solid #FFFFFF;
        padding: 8px;
        text-align: left;
    }
    .file-table td {
        border: 1px solid #555555;
        padding: 6px;
        color: #CCCCCC;
    }
    .file-icon {
        font-size: 16px;
        margin-right: 5px;
    }
    .loading {
        text-align: center;
        color: #00FF00;
        font-weight: bold;
    }
    .error {
        color: #FF0000;
        background: #330000;
        padding: 10px;
        border: 1px solid #FF0000;
    }
    .menu-link {
        display: block;
        background-color: #333333;
        border: 2px outset #CCCCCC;
        padding: 5px;
        margin-bottom: 5px;
        color: #FFFFFF;
        text-align: center;
        font-weight: bold;
        text-decoration: none;
    }
    .menu-link:active { border-style: inset; }
</style>
</head>
<body text="#FFFF00" link="#00FF00" vlink="#FF00FF" alink="#FFFFFF">
<center>
    <table width="800" border="1" bordercolor="#00FF00" cellspacing="0" cellpadding="0" bgcolor="#000000">


        <!-- –®–∞–ø–∫–∞ -->
        <tr>
            <td colspan="2" height="100" background="https://i.imgur.com/MO42ud1.gif" align="center">
                 <font size="6" color="lime" face="Comic Sans MS"><b><i>.: MEGA –§–ê–ô–õ–û–í–´–ô –ú–ï–ù–ï–î–ñ–ï–† :.</i></b></font>
            </td>
        </tr>


        <tr valign="top">
            <!-- menu -->
            <td width="200" bgcolor="#000022">
                <br>
                <div style="padding: 5px;">
                    <a href="index.html" class="menu-link"><< –ù–ê –ì–õ–ê–í–ù–£–Æ</a>
                    <br>
                    <font size="2" color="white"><center>–°—Ç–∞—Ç—É—Å:</center></font>
                    <div id="status" class="loading">—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ repo</div>
                </div>
            </td>

            <!-- tablitsa -->
            <td width="600" bgcolor="#000000" style="padding: 15px;">
                
                <p>
                    <font face="Courier New" size="3" color="#00FF00">
                    –¢–µ–∫—É—â–∞—è –ø–∞–ø–∫–∞: <b>Z:\repo\SCREAM\Files\</b>
                    </font>
                </p>

                <table class="file-table" id="fileTable">
                    <thead>
                        <tr>
                            <th width="40%">–ò–º—è —Ñ–∞–π–ª–∞</th>
                            <th width="15%">–†–∞–∑–º–µ—Ä</th>
                            <th width="45%">–î–∞—Ç–∞ | –¢–∏–ø</th>
                        </tr>
                    </thead>
                    <tbody id="fileList">
                    </tbody>
                </table>
                
                <br>
                <center id="footerStats">
                    <font size="1" color="gray">–§–∞–π–ª–æ–≤: 0 | –û–±—â–∏–π —Ä–∞–∑–º–µ—Ä: 0 –ö–ë</font>
                </center>

            </td>
        </tr>
        
        <!-- –∞–≤—Ç–æ—Ä—Å–∫–∏–µ –±–æ–º–±–æ–º—ë—Ç—ã -->
        <tr>
            <td colspan="2" bgcolor="#333333" align="center">
                <font size="1" color="#CCCCCC">dimit ¬© 2025-2026 | –ë–ª–∞–≥–æ–¥–æ—Ä—è GitHub API</font>
            </td>
        </tr>
    </table>
</center>

<script>
// === –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è API ===
const GITHUB_OWNER = 'pear-devs';  // username
const GITHUB_REPO  = 'pear-desktop'; // repo
const GITHUB_BRANCH = 'master';        // –≤–µ—Ç–∫–∞
const FILES_PATH   = 'src';        // –ø–∞–ø–∫–∞

const apiUrl = `https://api.github.com/repos/${GITHUB_OWNER}/${GITHUB_REPO}/contents/${FILES_PATH}?ref=${GITHUB_BRANCH}`;

// —Ä–∞–∑–º–µ—Ä
function formatSize(bytes) {
    if (bytes === 0) return '0 B';
    const k = 1024;
    const sizes = ['B', 'KiB', 'MiB', 'GiB'];
    const i = Math.floor(Math.log(bytes) / Math.log(k));
    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
}
// –∏–∫–æ–Ω–æ—á–∫–∏
function getFileIcon(filename) {
    const ext = filename.split('.').pop().toLowerCase();
    const icons = {
        'jpg': 'üñºÔ∏è', 'jpeg': 'üñºÔ∏è', 'png': 'üñºÔ∏è', 'gif': 'üé¨',
        'mp3': 'üéµ', 'wav': 'üéµ', 'mid': 'üéµ',
        'zip': 'üíæ', 'rar': 'üíæ', '7z': 'üíæ',
        'pdf': 'üìÑ', 'doc': 'üìù', 'txt': 'üìÑ',
        'exe': '‚ö†Ô∏è', 'msi': '‚ö†Ô∏è'
    };
    return icons[ext] || 'üìÑ';
}
// —Ç–∞–±–ª–∏—Ü–∞
function renderFiles(files) {
    const tbody = document.getElementById('fileList');
    const status = document.getElementById('status');
    const footer = document.getElementById('footerStats');
    
    tbody.innerHTML = '';
    status.textContent = `–ù–∞–π–¥–µ–Ω–æ —Ñ–∞–π–ª–æ–≤: ${files.length}`;
    
    let totalSize = 0;
    
    files.forEach(file => {
        const row = tbody.insertRow();
        row.innerHTML = `
            <td><span class="file-icon">${getFileIcon(file.name)}</span> 
               <a href="${file.download_url}" target="_blank">${file.name}</a></td>
            <td>${formatSize(file.size)}</td>
            <td>${new Date(file.last_modified || Date.now()).toLocaleDateString()} | ${file.name.split('.').pop().toUpperCase()}</td>
        `;
        totalSize += file.size;
    }); 
    footer.innerHTML = `<font size="1" color="gray">–§–∞–π–ª–æ–≤: ${files.length} | –û–±—â–∏–π —Ä–∞–∑–º–µ—Ä: ${formatSize(totalSize)}</font>`;
}
// –∑–∞–≥—Ä—É–∑–∫–∞
fetch(apiUrl)
    .then(response => {
        if (!response.ok) throw new Error('API –æ—à–∏–±–∫–∞: ' + response.status);
        return response.json();
    })
    .then(files => {
        const fileList = files.filter(item => !item.type || item.type === 'file');
        renderFiles(fileList);
    })
    .catch(error => {
        console.error('–û—à–∏–±–∫–∞:', error);
        document.getElementById('status').innerHTML = '<span class="error">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏! ln199 </span>';
        document.getElementById('fileList').innerHTML = '<tr><td colspan="3" class="error">–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞ –∏–ª–∏ ln200 </td></tr>';
    });
</script>

</body>
</html>